{"version":3,"file":"Baccarat.service.js","sourceRoot":"","sources":["../../../../../../src/reward/+baccarat/Baccarat.service.ts"],"names":[],"mappings":"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","sourcesContent":["import {Injectable} from '@angular/core';\nimport {Http, Response, URLSearchParams, Headers, RequestOptions } from '@angular/http';\nimport { Observable } from 'rxjs/Observable';\nimport {baseUrl} from '../services/config';\n\nconst BaccaratAddUrl = baseUrl + '/rewardManage/turntable/add';\nconst BaccaratEditUrl = baseUrl + '/rewardManage/turntable/edit';\nconst BaccaratInfoUrl = baseUrl + '/rewardManage/info/query/';\n\n@Injectable()\nexport class BaccaratService {\n    id: number;\n    constructor(private http: Http) {\n\n    }\n\n    ngOnInit() {\n\n    }\n\n    getOne(id) {\n        return this.http.get(BaccaratInfoUrl + id).map(res => res.json()).catch(this.handleError);\n    }\n\n    /**\n     * 新增和修改大转盘奖励\n     * @param  {[object]} data [插入数据]\n     * @return {[Observables]}      [observables 数据]\n     */\n    add(args) {\n        let data = Object.assign({},args);\n        let URL;\n        if (data.cRPId === null || data.cRPId === undefined || isNaN(data.cRPId)) {\n            URL = BaccaratAddUrl //新增\n        } else {\n            URL = BaccaratEditUrl//修改\n        }\n        //加工数据\n        data.cRPNameShow = data.cRPNameShow ? 1 : 0;\n        data.cRPSubtitleShow = data.cRPSubtitleShow ? 1 : 0;\n        data.cRPBackgroundShow = data.cRPBackgroundShow ? 1 : 0;\n        data.cRPDescShow = data.cRPDescShow ? 1 : 0;\n        data.cRPNoticeNow = data.cRPNoticeNow ? 1 : 0;\n        data.cRPValidNotice = data.cRPValidNotice ? 1 : 0;\n        let items = [];\n        data.subInfo.forEach(item=>{\n          items.push({cRPDId:item.cRPDId,cRPDNameShow:item.cRPDNameShow ? 1 : 0,cRPDSubtitleShow:item.cRPDSubtitleShow ? 1 : 0,cRPDNum:item.cRPDNum,cRPDName:item.cRPDName,cRPDSubtitle:item.cRPDSubtitle,cRPDBackgroundAdd:item.cRPDBackgroundAdd});\n        });\n        data.subInfo = items;\n        let body = JSON.stringify(data);\n        let headers = new Headers({ 'Content-Type': 'application/json' });\n        let options = new RequestOptions({ headers: headers });\n        return this.http.post(URL, body, options).map(res => res.json()).catch(this.handleError);\n    }\n\n    /**\n     * 删除核验型奖励\n     * @param  {[number]} id\n     * @return {[Observables]}  [observables 数据]\n     */\n    delete(id) {\n        let URL = baseUrl+'/rewardManage/status/edit';\n        let data = { cRPId: id, cRPStatus: 0 };//0删除,1发放中,2暂停中\n        let body = JSON.stringify(data);\n        let headers = new Headers({ 'Content-Type': 'application/json' });\n        let options = new RequestOptions({ headers: headers });\n        return this.http.post(URL, body, options).map(res => res.json()).catch(this.handleError);\n    }\n    /**\n     * 发放/暂停核验型奖励\n     * @param  {[type]} id\n     * @param  {[type]} state [0删除,1发放中,2暂停中]\n     * @return {[type]}       [observables 数据]\n     */\n    putState(id, state) {\n        let URL = baseUrl+'/rewardManage/status/edit';\n        let data = { cRPId: id, cRPStatus: state };//0删除,1发放中,2暂停中\n        let body = JSON.stringify(data);\n        let headers = new Headers({ 'Content-Type': 'application/json' });\n        let options = new RequestOptions({ headers: headers });\n        return this.http.post(URL, body, options).map(res => res.json()).catch(this.handleError);\n    }\n    /**\n     * 关联项目\n     * @param  {[object]} params [cRPId,queryType:[1当前正在关联的/2所有的关联的，包括历史]]\n     * @return {[Observables]}   [observables 数据]\n     */\n    projectsList(params) {\n        let search = new URLSearchParams();\n        search.set('cRPId', params.cRPId);\n        search.set('queryType', params.queryType);\n        let URL = baseUrl+'/rewardManage/projects/list';\n        return this.http.get(URL, { search: search }).map(res => res.json()).catch(this.handleError);\n    }\n    /**\n     * 奖励列表\n     * @param  {[object]} params [cRPId,startDate,endDate,projectId,cRPDId]\n     * @return {[Observables]}   [observables 数据]\n     */\n    pinList(params) {\n        let search = new URLSearchParams();\n        search.set('cRPId', params.cRPId+'');\n        search.set('startDate', params.startDate);\n        search.set('endDate', params.endDate);\n        search.set('projectId', params.projectId+'');\n        search.set('currentPage', params.currentPage+'');\n        search.set('pageSize', params.pageSize+'');\n        let URL = baseUrl+'/rewardManage/check/list';\n        return this.http.get(URL, { search: search }).map(res => res.json()).catch(this.handleError);\n    }\n    /**\n     * 发放总量\n     * @param  {[object]} id [奖励ID]\n     * @return {[Observables]}   [observables 数据]\n     */\n    totalList(id) {\n        let URL = baseUrl+'/rewardManage/check/total/' + id;\n        return this.http.get(URL).map(res => res.json()).catch(this.handleError);\n    }\n\n    /**\n     * 追加数量\n     * @param  {[type]} data [description]\n     * @return {[type]}      [description]\n     */\n    addTotal(data){\n      let URL = baseUrl+'/rewardManage/nums/append';\n      let body = JSON.stringify(data);\n      let headers = new Headers({ 'Content-Type': 'application/json' });\n      let options = new RequestOptions({ headers: headers });\n      return this.http.post(URL, body, options).map(res => res.json()).catch(this.handleError);\n    }\n\n    private handleError(error: any) {\n        // In a real world app, we might use a remote logging infrastructure\n        let errMsg = error.message || 'Server error';\n        console.error(errMsg); // log to console instead\n        return Observable.throw(errMsg);\n    }\n}\n"]}