{"version":3,"file":"account.list.component.js","sourceRoot":"","sources":["../../../../../../../src/reward/+account/list/account.list.component.ts"],"names":[],"mappings":"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","sourcesContent":["import {Component} from '@angular/core';\nimport {CORE_DIRECTIVES,NgFor,NgSwitch, NgSwitchWhen, NgSwitchDefault} from '@angular/common';\nimport {ROUTER_DIRECTIVES,Router} from '@angular/router';\nimport {Http, Response, HTTP_PROVIDERS} from '@angular/http';\nimport 'rxjs/Rx';\nimport { Observable } from 'rxjs/Observable';\nimport * as moment from 'moment';\nimport { PAGINATION_DIRECTIVES, DATEPICKER_DIRECTIVES } from 'ng2-bootstrap/ng2-bootstrap';\n\nimport {AccountService} from '../Account.service';\nimport {Validators} from '../../services/Validators';\n\n@Component({\n  moduleId:module.id,\n    selector: 'account-list',\n    templateUrl:'template.html',\n    styleUrls:['style.min.css'],\n    directives: [PAGINATION_DIRECTIVES,ROUTER_DIRECTIVES,CORE_DIRECTIVES,NgFor,NgSwitch, NgSwitchWhen, NgSwitchDefault],\n    providers: [AccountService,HTTP_PROVIDERS]\n})\n\nexport class AccountListComponent{\n  list:any;\n  params:any;\n  errorMessage:any;\n  page:any;\n\n\n  currentPage: number = 1;\n  pageSize: number = 10;\n  pageCount: number = 0;\n\n  constructor(private as: AccountService, private router: Router) {\n    this.params = {};\n    this.params.currentPage = 1;\n    this.params.pageSize = 10;\n  }\n\n  pageChanged(page) {\n      this.currentPage = page.page;\n      this.pageSize = page.itemsPerPage;\n      this.getList();\n  }\n\n  ngOnInit(){\n    this.getList();\n  }\n\n  getList(){\n    this.params.currentPage = this.currentPage;\n    this.params.pageSize = this.pageSize;\n    this.as.list(this.params).subscribe(data=>this.setList(data),error=>this.errorMessage)\n  }\n\n  onDelete(subUser){\n    if(subUser.delSubmitText!=='delete'){\n      alert('正确填写确认信息,delete');\n      return;\n    }\n    this.as.delete(subUser.cRCUId).subscribe(data=>{\n      alert(data.error.msg);\n      this.getList();\n    },error=>this.errorMessage)\n  }\n\n  setList(data){\n    if (data.error.state !== 0) {\n        alert(data.error.msg);\n        return;\n    }\n    if(data!=null&&data!='null'&&data.data&&data.data.list){\n      this.list=data.data.list;\n      this.page=data.data.page;\n      this.currentPage = +data.data.page.currentPage;\n      this.pageSize = +data.data.page.pageSize;\n      this.pageCount = +data.data.page.pageCount;\n    }\n  }\n\n  toHome(){\n    this.router.navigate(['/']);\n  }\n\n  goBack() {\n      window.history.back();\n  }\n}\n"]}